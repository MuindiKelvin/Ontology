<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<title>Online Marketing </title>
      <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="../index.php">Bella Collections</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="active"><a href="../index.php">Home</a></li>
      <!--<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">FILES <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="ontology/test/users.rdf">RDF</a></li>
          <li><a href="">Page 1-2</a></li>
          <li><a href="#">Page 1-3</a></li>
        </ul>-->
      </li>
      <!--<li><a href="test_SerializerOptions.php">Generated Queries</a></li>-->
      <li><a href="test_SerializerOptions.php">Next</a></li>
    </ul>
  </div>
</nav>
<style>
body {
  background-image: url("data:image/jpeg;base64,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");
}
</style>





<?php
define("RDFAPI_INCLUDE_DIR", "./../api/");
include(RDFAPI_INCLUDE_DIR . "RdfAPI.php");

// Filename of an RDF document
$base="employees.rdf";

// Create a new MemModel
$model = new MemModel();

// Load and parse document
$model->load($base);

// Show input model
//$model->writeAsHtmlTable();


echo "<p>";


echo "<BR>show the age of all users ,using the RdqlResultIterator<BR>"; 
$rdql_query = '
SELECT ?givenName, ?age
WHERE (?x, v:age, ?age),
      (?x, vcard:N, ?blank),
      (?blank, vcard:Given, ?givenName)
USING vcard FOR <http://www.w3.org/2001/vcard-rdf/3.0#>
      v FOR <http://sampleVocabulary.org/1.3/People#>';

//query model, get RDQLResultIterator
$rdqlIter = $model->rdqlQueryasIterator($rdql_query);

//get different Result labels as array
$result_labels=$rdqlIter->getResultLabels();

echo "<BR><b>Result Label Names:</b> ";
for ($i=0; $i <count($result_labels); $i++) echo  $result_labels[$i]." ";
echo "<BR><B>Number of results:</B> ".$rdqlIter->countResults(); 
echo "<BR><B>Result objects, serialized to string:</B><BR>"; 
//serialize result to string
while ($rdqlIter->hasNext()) {
	$curren_result=$rdqlIter->next();
	echo "<BR>";
	for ($j=0; $j <count($result_labels); $j++) echo  $curren_result[$result_labels[$j]]->toString()."<BR> ";
};



echo "</p>";

// show emails of all employees
$rdql_query = '
SELECT ?givenName, ?familyName, ?email
WHERE  (?person vcard:N ?blank1)
       (?blank1 vcard:Given ?givenName)
       (?blank1 vcard:Family ?familyName)
       (?person vcard:EMAIL ?blank2)
       (?blank2 rdf:value ?email)
AND ?person ~~ "/example.com\/EMPLOYEES\//i"
USING vcard FOR <http://www.w3.org/2001/vcard-rdf/3.0#>
      v FOR <http://sampleVocabulary.org/1.3/People#>';

$res = $model->rdqlQuery($rdql_query);

RdqlEngine::writeQueryResultAsHtmlTable($res);




echo "<br>show all users over 30 <BR>";

// show all employees over 30
$rdql_query = '
SELECT ?employee, ?age
WHERE  (?x, vcard:FN, ?employee), (?x, <v:age>, ?age)
AND ?age > 30
USING vcard FOR <http://www.w3.org/2001/vcard-rdf/3.0#>
      v FOR <http://sampleVocabulary.org/1.3/People#>';


$res = $model->rdqlQuery($rdql_query);

RdqlEngine::writeQueryResultAsHtmlTable($res);



echo "<p>";


// find out whose number is it: +1 111 2212 431
$rdql_query = '
SELECT ?x, ?type
WHERE  (?x, vcard:TEL, ?tel),
       (?tel, rdf:value, ?telNumber)
       (?tel, rdf:type, ?type)
AND ?telNumber eq "+1 111 2212 431"
USING vcard FOR <http://www.w3.org/2001/vcard-rdf/3.0#>
      v FOR <http://sampleVocabulary.org/1.3/People#>';
$res = $model->rdqlQuery($rdql_query);
RdqlEngine::writeQueryResultAsHtmlTable($res);


echo "</p>";

// show office telephone numbers of all employees
$rdql_query = '
SELECT ?givenName, ?familyName, ?telNumber
WHERE  (?person vcard:N ?blank1)
       (?blank1 vcard:Given ?givenName)
       (?blank1 vcard:Family ?familyName)
       (?person vcard:TEL ?blank2)
       (?blank2 rdf:value ?telNumber)
       (?blank2 rdf:type ?type)
AND ?person ~~ "/example.com\/EMPLOYEES\//i" && ?type eq vcard:work
USING vcard FOR <http://www.w3.org/2001/vcard-rdf/3.0#>
      v FOR <http://sampleVocabulary.org/1.3/People#>';
$res = $model->rdqlQuery($rdql_query);
RdqlEngine::writeQueryResultAsHtmlTable($res);


?>



</body>
</html>
